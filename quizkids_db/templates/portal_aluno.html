{% extends "layout.html" %}
{% block title %}Meu Portal{% endblock %}

{% block content %}
<div class="container portal-container">
    <h1 class="portal-title">OlÃ¡, {{ session.user.nome }}!</h1>
    <p class="subtitle">Pronto para a sua prÃ³xima aventura de conhecimento?</p>
    
    <div class="play-button-container">
        <a href="{{ url_for('select_subject') }}" class="btn btn-primary btn-play">ğŸš€ Jogar!</a>
    </div>

    <div class="progress-section">
        <h2>Meu Progresso</h2>
        <div class="progress-grid">
            {% if progress %}
                {% for category, percentage in progress.items() %}
                <div class="progress-card">
                    <div class="progress-card-header {{ category }}">
                        <span class="category-icon">
                            {% if category == 'matematica' %}ğŸ§®
                            {% elif category == 'ciencias' %}ğŸ”¬
                            {% elif category == 'historia' %}ğŸ“œ
                            {% elif category == 'geografia' %}ğŸ—ºï¸
                            {% elif category == 'portugues' %}âœï¸
                            {% else %}â­
                            {% endif %}
                        </span>
                        <h4>{{ category|capitalize }}</h4>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar" style="--progress-width: {{ percentage }}%;"></div>
                    </div>
                    <span class="progress-text">{{ percentage }}% completo</span>
                </div>
                {% endfor %}
            {% else %}
                <p>VocÃª ainda nÃ£o completou nenhum quiz. Clique em "Jogar" para comeÃ§ar!</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}